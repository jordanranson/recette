"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{8392:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(5893);n(7294);var s=n(512);function i(e){let t=(0,s.Z)("Block",e.size&&"Block--size-".concat(e.size),e.align&&"Block--align-".concat(e.align),e.trim&&"Block--trim-".concat(e.trim),e.className);return(0,r.jsx)("div",{className:t,children:e.children})}},4828:function(e,t,n){n.d(t,{I_:function(){return o},ZP:function(){return a},hU:function(){return c}});var r=n(5893);n(7294);var s=n(1664),i=n.n(s);function a(e){let t="Icon Icon--size-".concat(e.size||"regular");return(0,r.jsx)("i",{className:t,onClick:e.onClick,children:(0,r.jsx)("svg",{className:t,children:(0,r.jsx)("use",{xlinkHref:"#".concat(e.name)})})})}function c(e){return(0,r.jsx)("button",{className:"button button--primary IconButton",onClick:e.onClick,children:(0,r.jsx)(a,{name:e.name,size:e.size})})}function o(e){return(0,r.jsx)(i(),{href:e.href,className:"button button--primary IconButton",children:(0,r.jsx)(a,{name:e.name,size:e.size})})}},5534:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(5893);n(7294);var s=n(512);function i(e){let t=(0,s.Z)("Level",e.size&&"Level--size-".concat(e.size),e.align&&"Level--align-".concat(e.align),e.className);return(0,r.jsx)("div",{className:t,children:e.children})}},5087:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(5893),s=n(7294),i=n(1664),a=n.n(i),c=n(1163),o=n(5333),l=n(512),u=n(4828);function d(e){var t;let n=(t={...e,type:"search"},(0,l.Z)("input",t.large&&"input--large",t.short&&"input--short","search"===t.type&&"input--search")),s=e.large?"regular":"small";return(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)("span",{className:"input__icons",children:(0,r.jsx)(u.ZP,{name:"search",color:"light",size:s})}),(0,r.jsx)("input",{type:"search",onChange:e.onChange}),(0,o.u8)(e.icons,()=>(0,r.jsx)("span",{className:"input__icons",children:e.icons}))]})}function h(e){return(0,r.jsx)(d,{large:!0,onChange:t=>{var n;null===(n=e.onSearch)||void 0===n||n.call(e,t.currentTarget.value)}})}var f=n(5534),m=n(3217);function g(e){let{results:t,setQuery:n,shuffle:i}=function(e,t,n){let r=(0,c.useRouter)(),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)([]);return(0,s.useEffect)(()=>{a(""),l([])},[r.asPath]),(0,s.useEffect)(()=>{(()=>{let t=i.toLowerCase().trim();if(!t||t.length<3){l([]);return}l(e.recipes.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||(0,m._)(e.authorId).toLowerCase().includes(t)||(0,m._)(e.categoryId).toLowerCase().includes(t)||e.tags.reduce((e,n)=>!!n.includes(t)||e,!1)).map(e=>{let n=0;return e.title.toLowerCase().includes(t)&&(n+=4),e.description.toLowerCase().includes(t)&&(n+=3),(0,m._)(e.authorId).toLowerCase().includes(t)&&(n+=1),(0,m._)(e.categoryId).toLowerCase().includes(t)&&(n+=1),e.tags.reduce((e,n)=>!!n.includes(t)||e,!1)&&(n+=2),{...e,weight:n}}).sort((e,t)=>e.weight-t.weight==0?e.title.localeCompare(t.title):t.weight-e.weight).slice(0,5))})()},[i]),{results:o,setQuery:a,shuffle:()=>{let s=e.taxonomies.find(e=>e.id===t);if(!s){let t=e.recipes.filter(e=>e.id!==n),s=Math.round(Math.random()*(t.length-1)),i=t[s];r.push("/"+i.categoryId+"/"+i.id);return}let i=s.recipes.filter(e=>e.id!==n),a=Math.round(Math.random()*(i.length-1)),c=i[a];r.push("/"+c.categoryId+"/"+c.id)}}}(e.searchContext,e.taxonomy,e.recipeId),l=()=>{e.dispatchAppState({type:"TOGGLE_THEME"})};return(0,s.useEffect)(()=>{let e=e=>{e.target.closest("#searchResults")||n("")};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),(0,r.jsxs)(f.Z,{size:"regular",className:"NavBar",children:[(0,r.jsx)("aside",{children:(0,r.jsxs)(f.Z,{size:"small",children:[(0,r.jsx)(u.I_,{href:"/",name:"menuBurger"}),(0,r.jsx)(u.hU,{onClick:i,name:"shuffle"}),(0,o.u8)("system"===e.appState.settings.theme,()=>(0,r.jsx)(u.hU,{onClick:l,name:"darkMode"})),(0,o.u8)("light"===e.appState.settings.theme,()=>(0,r.jsx)(u.hU,{onClick:l,name:"sun"})),(0,o.u8)("dark"===e.appState.settings.theme,()=>(0,r.jsx)(u.hU,{onClick:l,name:"moon"}))]})}),(0,r.jsxs)("nav",{children:[(0,r.jsx)(h,{onSearch:n}),(0,o.u8)(t.length>0,()=>(0,r.jsx)("div",{id:"searchResults",className:"panel",children:(0,r.jsx)("ul",{children:(0,o.Ed)(t,e=>(0,r.jsx)("li",{children:(0,r.jsxs)(a(),{href:"/"+e.categoryId+"/"+e.id,children:[(0,r.jsx)("h4",{children:e.title}),(0,r.jsx)("p",{children:e.description})]})},e.id))})}))]})]})}},3421:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(5893);n(7294);var s=n(5333),i=n(8392),a=n(5534);function c(e){return(0,r.jsxs)("div",{className:"PageFooter",children:[(0,s.u8)(e.config.template.footerLinks&&e.config.template.footerLinks.length,()=>(0,r.jsx)(i.Z,{size:"small",children:(0,r.jsx)(a.Z,{size:"small",children:(0,s.Ed)(e.config.template.footerLinks,(e,t)=>(0,r.jsx)("a",{className:"button button--link text-small",href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.text},t))})})),(0,r.jsxs)(i.Z,{size:"small",children:["powered by ",(0,r.jsx)("a",{className:"button button--link text-small",href:"https://github.com/jordanranson/recette",target:"_blank",rel:"noopener noreferrer",children:"Recette"})]})]})}},6917:function(e,t,n){n.d(t,{m:function(){return s}});var r=n(7294);function s(){let[e,t]=(0,r.useReducer)((e,t)=>{switch(t.type){case"SET_THEME":return i({...e,settings:{...e.settings,theme:t.value}});case"TOGGLE_THEME":let n="system"===e.settings.theme?window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark":"light"===e.settings.theme?"dark":"light";return i({...e,settings:{...e.settings,theme:n}});case"CLEAR_USER_DATA":return i({...e,userData:{notes:[],checkboxes:[]}});case"RESTORE_STATE":var r,s;let a=function(){let e=localStorage.getItem("recette:appState");if(e)return JSON.parse(e)}();return{...e,settings:null!==(r=null==a?void 0:a.settings)&&void 0!==r?r:e.settings,userData:null!==(s=null==a?void 0:a.userData)&&void 0!==s?s:e.userData};default:throw Error()}},{settings:{theme:"system"},userData:{}}),n=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{n.current&&(n.current=!1,t({type:"RESTORE_STATE"}))}),[e,t]}function i(e){let t={...e};return localStorage.setItem("recette:appState",JSON.stringify(t)),e}},508:function(e,t,n){n.d(t,{S:function(){return s}});var r=n(7294);function s(e){(0,r.useEffect)(()=>{"system"===e?document.body.removeAttribute("data-theme"):document.body.setAttribute("data-theme",e)},[e])}},5333:function(e,t,n){n.d(t,{Ed:function(){return a},KJ:function(){return s},u8:function(){return i}});var r=n(5893);function s(e,t,n){return e?t():n()}function i(e,t){return e?t():(0,r.jsx)(r.Fragment,{})}function a(e,t){return e.map(t)}n(7294)},3217:function(e,t,n){function r(e){return e?e.replace(/[-._/]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):""}function s(e){return e?e.replace(/ /g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase():""}n.d(t,{K:function(){return s},_:function(){return r}})}}]);